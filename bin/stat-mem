#!/usr/bin/perl

use strict;
use warnings;

open my $fh, '<', '/proc/meminfo';

# XXX 1234MB / 4321MB
while (1) {
   my %data;
   while (<$fh>) {
      my ($k, $v) = (m/(.*):\s+(\d+)/);
      $v /= 1024 * 1024;
      $data{$k} = sprintf '%0.01f', $v;
   }
   print "^fg(#3465A4)$data{MemAvailable}GB / $data{MemTotal}GB^p(15)^fg()\n";
   sleep 1;
   seek $fh, 0, 0;
}
