#!/bin/zsh

if [[ -z $1 ]]; then
   echo 'USAGE: vim-project $name [$location]'
   exit 1
fi

NAME="$1.vi"
FULL_NAME="$HOME/bin/$NAME"

if [[ -n $2 ]]; then
   PROJECT_DIR="$2"
else
   PROJECT_DIR="$(pwd)"
fi

echo "creating $NAME to open in $PROJECT_DIR"

echo "#!/bin/sh" > $FULL_NAME
echo "cd $PROJECT_DIR" >> $FULL_NAME
echo "gvim -c':NERDTree'" >> $FULL_NAME
chmod +x $FULL_NAME
